:root {
  --ink:#182033;
  --white:#fff;
  --ts-orange:#ff6a3d;
  --ts-orange-dark:#e05225;
  --ts-shadow:0 8px 20px rgba(20,35,60,.08);
}

/* ===== GLOBAL ===== */
html, body {
  height: 100%;
  margin: 0;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--white);
  background: radial-gradient(1200px 700px at 50% -10%, #341d72, transparent),
              linear-gradient(180deg, #000 0%, #050505 40%, #0b0a3a 100%);
  overflow-x: hidden;
  overflow-y: auto;
}

/* ===== HEADER ===== */
.site-header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: #fff;
  border-bottom: 1px solid #eef1f5;
  box-shadow: 0 2px 10px rgba(16,31,56,.04);
}
.nav-wrap {
  max-width: 1100px;
  margin: 0 auto;
  padding: .65rem .9rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
}
.brand {
  display: flex;
  align-items: center;
  gap: .55rem;
  text-decoration: none;
}
.brand img { height: 38px; width: auto; display: block; }
.brand-name {
  font-weight: 900;
  color: var(--ts-orange);
  font-size: clamp(1.25rem, 5.4vw, 1.85rem);
  letter-spacing: .2px;
  line-height: 1.1;
  white-space: nowrap;
}
.brand-name .gap { padding-left: .28ch; }

.nav-cta {
  background: linear-gradient(135deg, var(--ts-orange), var(--ts-orange-dark));
  color: #fff;
  text-decoration: none;
  font-weight: 800;
  padding: .55rem .9rem;
  border-radius: 999px;
  box-shadow: var(--ts-shadow);
  transition: transform .25s ease, filter .25s ease;
}
.nav-cta:hover { filter: brightness(1.08); transform: translateY(-2px); }

/* ===== GALAXY STARS (Base field) ===== */
.stars,
.stars::before,
.stars::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(2px 2px at 20% 30%, #ffffffcc 70%, transparent 71%) repeat,
    radial-gradient(2.5px 2.5px at 40% 80%, #ffd966cc 70%, transparent 71%) repeat,
    radial-gradient(3px 3px at 70% 50%, #9ecbffff 70%, transparent 71%) repeat,
    radial-gradient(1.5px 1.5px at 85% 25%, #ff7aaacc 70%, transparent 71%) repeat;
  background-size: 500px 500px, 700px 700px, 800px 800px, 600px 600px;
  animation: twinkle 20s linear infinite;
}
.stars::before { animation-duration: 35s; opacity: 0.7; }
.stars::after  { animation-duration: 45s; opacity: 0.5; }

@keyframes twinkle {
  from { background-position: 0 0, 0 0, 0 0, 0 0; }
  to   { background-position: 500px 500px, -700px 700px, 800px -800px, 600px 600px; }
}

/* ===== STATIC GLOWING STARS ===== */
.glow-star {
  position: fixed;
  border-radius: 50%;
  background: radial-gradient(circle, #fff 20%, rgba(255,255,255,0) 70%);
  opacity: 0.8;
  box-shadow: 0 0 20px 4px #ffffff44, 0 0 40px 10px #aeeaff22;
  animation: pulseStar 6s ease-in-out infinite alternate;
}
.glow-star:nth-child(1) { top: 10%; left: 15%; width: 6px; height: 6px; animation-delay: 0s; }
.glow-star:nth-child(2) { top: 30%; left: 70%; width: 10px; height: 10px; animation-delay: 1.5s; }
.glow-star:nth-child(3) { top: 60%; left: 40%; width: 14px; height: 14px; animation-delay: 2.2s; }
.glow-star:nth-child(4) { top: 80%; left: 20%; width: 8px; height: 8px; animation-delay: 3.4s; }
.glow-star:nth-child(5) { top: 50%; left: 85%; width: 12px; height: 12px; animation-delay: 4.1s; }

@keyframes pulseStar {
  0% { transform: scale(0.9); filter: brightness(0.8); }
  100% { transform: scale(1.4); filter: brightness(1.5); }
}

/* ===== SHOOTING STARS (Randomized) ===== */
@keyframes shoot {
  0%   { transform: translate(-10vw, -10vh) rotate(45deg); opacity: 0; }
  10%  { opacity: 1; }
  100% { transform: translate(120vw, 120vh) rotate(45deg); opacity: 0; }
}
.shooting-star {
  position: fixed;
  top: -5%;
  width: 2px;
  height: 80px;
  background: linear-gradient(180deg, #fff, transparent);
  opacity: 0;
  animation: shoot linear infinite;
}
.shooting-star:nth-child(1) { animation-duration: 5s; animation-delay: 1s; left: 10%; }
.shooting-star:nth-child(2) { animation-duration: 6s; animation-delay: 3s; left: 45%; }
.shooting-star:nth-child(3) { animation-duration: 8s; animation-delay: 5s; left: 75%; }
.shooting-star:nth-child(4) { animation-duration: 9s; animation-delay: 7s; left: 30%; }
.shooting-star:nth-child(5) { animation-duration: 11s; animation-delay: 10s; left: 60%; }

/* ===== HERO SECTION ===== */
.kids-hero {
  text-align: center;
  padding: 3rem 1rem 1rem;
  position: relative;
}
.kids-hero h1 {
  margin: 0 0 .8rem;
  font-size: clamp(2rem, 1.2rem + 2.5vw, 3rem);
  font-weight: 900;
  background: linear-gradient(90deg, #ff3d7f, #ffa133, #36f0ff, #8cff2e);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 3px 0 rgba(0,0,0,.25));
}
.kids-hero .lead {
  margin: 0 auto;
  max-width: 700px;
  font-size: 1.1rem;
  color: #eef3ff;
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* ===== PORTALS ===== */
.portals {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(1rem, 4vw, 2.6rem);
  flex-wrap: wrap;
  padding: 2rem 1rem 3rem;
}
.portal {
  --size: clamp(140px, 24vw, 220px);
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  display: grid;
  place-items: center;
  text-decoration: none;
  color: #fff;
  position: relative;
  isolation: isolate;
  transform-style: preserve-3d;
  transition: transform .25s ease, filter .25s ease;
}
.portal .ring {
  position: absolute;
  inset: -8px;
  border-radius: 50%;
  filter: blur(12px);
  opacity: .7;
  z-index: -1;
  animation: ring 6s linear infinite;
}
@keyframes ring { to { transform: rotate(360deg); } }

.portal .core {
  width: 76%;
  height: 76%;
  border-radius: 50%;
  display: grid;
  place-items: center;
  box-shadow: inset 0 10px 30px rgba(0,0,0,.25),
              0 10px 25px rgba(0,0,0,.3);
  transform: translateZ(30px);
}
.portal .icon {
  font-size: clamp(2rem, 5.5vw, 3.2rem);
  text-shadow: 0 3px 0 rgba(0,0,0,.25);
}
.portal .label {
  position: absolute;
  bottom: -2.2rem;
  left: 50%;
  transform: translateX(-50%);
  font-weight: 800;
  font-size: clamp(.95rem, 1.6vw, 1.05rem);
  text-shadow: 0 2px 0 rgba(0,0,0,.25);
}
.portal:hover { transform: translateY(-6px) scale(1.05); filter: brightness(1.05); }
.portal:hover .ring { opacity: .95; }

/* PORTAL COLORS */
.portal.games { background: radial-gradient(circle at 30% 30%, #00ffd5, #0099ff 60%, #6c1bff); }
.portal.games .ring { background: conic-gradient(from 0deg, #00ffd5, #00c6ff, #6c1bff, #00ffd5); }
.portal.games .core { background: radial-gradient(circle at 40% 35%, #9efcff, #007bff 70%); }

.portal.sheets { background: radial-gradient(circle at 30% 30%, #ffde59, #ff6a88 60%, #ff4d4d); }
.portal.sheets .ring { background: conic-gradient(from 0deg, #ffd166, #ff6a88, #ff4d4d, #ffd166); }
.portal.sheets .core { background: radial-gradient(circle at 40% 35%, #fff3a6, #ff7a7a 70%); }

.portal.classroom { background: radial-gradient(circle at 30% 30%, #7cffcb, #00c2a8 55%, #1b7fff); }
.portal.classroom .ring { background: conic-gradient(from 0deg, #7cffcb, #00c2a8, #1b7fff, #7cffcb); }
.portal.classroom .core { background: radial-gradient(circle at 40% 35%, #b6ffe1, #00a0ff 70%); }

/* ===== FOOTER MESSAGE (Comet Entry) ===== */
.mascot-wrap {
  position: fixed;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  animation: fadeInComet 2.8s ease-out forwards;
}

@keyframes fadeInComet {
  0% {
    opacity: 0;
    transform: translateX(-40px) translateY(20px) scale(0.9);
    filter: blur(4px);
  }
  70% {
    opacity: 1;
    transform: translateX(10px) translateY(0) scale(1.05);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

.speech {
  position: relative;
  background: radial-gradient(circle at 40% 40%, #0b0a3a 0%, #000 90%);
  color: #fff;
  padding: 0.8rem 1.2rem;
  border-radius: 14px;
  font-size: 0.9rem;
  font-weight: 600;
  box-shadow: 0 0 15px rgba(0,200,255,0.3), 0 0 40px rgba(0,0,0,0.6);
  text-shadow: 0 0 6px rgba(255,255,255,0.4);
  animation: pulse 6s ease-in-out infinite;
  line-height: 1.4;
}
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 12px rgba(0,200,255,0.2), 0 0 25px rgba(0,200,255,0.15); }
  50% { box-shadow: 0 0 25px rgba(0,200,255,0.4), 0 0 50px rgba(0,200,255,0.3); }
}


/* ===== FLOATING NEBULA LAYER ===== */
.nebula {
  position: fixed;
  inset: 0;
  z-index: -1; /* above background, below stars */
  pointer-events: none;
  background: radial-gradient(circle at 20% 30%, rgba(155, 0, 255, 0.35), transparent 70%),
              radial-gradient(circle at 70% 60%, rgba(0, 220, 255, 0.25), transparent 70%),
              radial-gradient(circle at 40% 80%, rgba(255, 80, 150, 0.25), transparent 70%);
  background-size: 100% 100%;
  filter: blur(120px);
  animation: floatNebula 60s ease-in-out infinite alternate;
  opacity: 0.8;
  will-change: transform, opacity;
}


@keyframes floatNebula {
  0% {
    transform: scale(1) translate(0, 0);
    background-position: 0 0, 0 0, 0 0;
  }
  50% {
    transform: scale(1.05) translate(-20px, 10px);
    background-position: 20% 40%, -10% 20%, 10% -20%;
  }
  100% {
    transform: scale(1.1) translate(10px, -10px);
    background-position: -20% 20%, 30% -10%, -10% 10%;
  }
}

/* ===== ROCKET MASCOT (Bottom-Right Corner) ===== */
.mascot-wrap.right-corner {
  position: fixed;
  bottom: 22px;
  right: 22px;
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 9999;
}

/* Rocket icon */
.mascot {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 40px;
  background: radial-gradient(circle at 35% 30%, #fff8, #fff2);
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
  cursor: pointer;
  animation: bob 4s ease-in-out infinite;
  border: none;
}
@keyframes bob {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

/* Glowing message bubble */
.speech {
  position: relative;
  background: radial-gradient(circle at 40% 40%, #0b0a3a 0%, #000 90%);
  color: #fff;
  padding: 0.8rem 1.2rem;
  border-radius: 14px;
  font-size: 0.9rem;
  font-weight: 600;
  max-width: 280px;
  line-height: 1.4;
  box-shadow: 0 0 15px rgba(0,200,255,0.3), 0 0 40px rgba(0,0,0,0.6);
  text-shadow: 0 0 6px rgba(255,255,255,0.4);
  overflow: hidden;
  z-index: 1;
  animation: pulse 6s ease-in-out infinite;
  backdrop-filter: blur(6px);
}


/* Fade-in comet entry */
.mascot-wrap.right-corner {
  opacity: 0;
  animation: fadeInComet 2.8s ease-out forwards;
}
@keyframes fadeInComet {
  0% {
    opacity: 0;
    transform: translateX(40px) translateY(20px) scale(0.9);
    filter: blur(4px);
  }
  70% {
    opacity: 1;
    transform: translateX(-10px) translateY(0) scale(1.05);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Stars inside bubble */
.speech::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(1px 1px at 20% 30%, #fff 70%, transparent 71%) repeat,
    radial-gradient(1.5px 1.5px at 70% 60%, #fff8 60%, transparent 61%) repeat,
    radial-gradient(2px 2px at 40% 80%, #fff6 60%, transparent 61%) repeat;
  background-size: 120px 120px, 180px 180px, 150px 150px;
  animation: sparkle 18s linear infinite;
  pointer-events: none;
  z-index: 0;
}
@keyframes sparkle {
  from { background-position: 0 0, 0 0, 0 0; }
  to   { background-position: 120px 120px, -180px 180px, 150px -150px; }
}
/* ===== FALLING SPARKLING STARS ===== */
.falling-star {
  position: fixed;
  top: -20px;
  width: 3px;
  height: 3px;
  border-radius: 50%;
 background: radial-gradient(circle, #fff 60%, transparent 100%),
            radial-gradient(circle, rgba(255,255,255,0.8) 30%, transparent 70%);
background-blend-mode: screen;

  opacity: 0.8;
  box-shadow:
    0 0 6px #fff,
    0 0 12px #fff,
    0 0 24px rgba(0,200,255,0.4);
  animation: fallStar linear infinite;
  pointer-events: none;
  z-index: 0; /* behind content but above nebula */
}

@keyframes fallStar {
  0% {
    transform: translateY(-20px) translateX(0) scale(1);
    opacity: 1;
  }
  80% {
    transform: translateY(100vh) translateX(40px) scale(0.9);
    opacity: 0.8;
  }
  100% {
    transform: translateY(110vh) translateX(60px) scale(0.7);
    opacity: 0;
  }
}
.acct{ position:relative; margin-left:auto; }
.acct-btn{ display:flex; align-items:center; gap:8px; border:0; background:transparent; cursor:pointer; }
.acct-pic{ width:32px; height:32px; border-radius:50%; display:none; }
.acct-init{ width:32px; height:32px; border-radius:50%; display:grid; place-items:center;
  font-weight:700; background:#eef2ff; color:#223; border:1px solid #dde3ff; }
.acct-menu{ position:absolute; right:0; top:110%; background:#fff; border:1px solid #e6e9f5; border-radius:12px;
  box-shadow:0 12px 30px rgba(0,0,0,.08); min-width:220px; padding:6px; display:none; z-index:50; }
.acct-row{ display:block; width:100%; text-align:left; padding:10px 12px; border-radius:10px; background:transparent; border:0; cursor:pointer; color:#223; }
.acct-row:hover{ background:#f6f8ff; }
.acct[data-open="1"] .acct-menu{ display:block; }
